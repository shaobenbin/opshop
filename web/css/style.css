/* --- 1. 全局变量 (JetBrains Darcula / New UI) --- */
:root {
	--bg-deep: #1e1f22;      /* 核心底色 */
	--bg-surface: #2b2d30;   /* 侧边栏 & 卡片主体背景 */
	--bg-card: #141417;      /* 沉浸式卡片背景 */
	--border: #393b40;       /* 标准分割线 */
	--border-hover: #4e5157; /* 悬停边框 */
	--border-active: #3574f0;/* 激活蓝 */

	--text-main: #dfe1e5;    /* 主文字颜色 */
	--text-dim: #707275;     /* 说明性文字 */

	--jb-blue: #3574f0;      /* 链接与主按钮蓝 */
	--jb-green: #59a869;     /* 运行/成功绿 */
	--jb-orange: #eda200;    /* 告警/项目名橙 */
	--jb-red: #db5860;       /* 错误/删除红 */
}

/* --- 2. 基础重置 --- */
body {
	background-color: var(--bg-deep);
	color: var(--text-main);
	font-family: 'JetBrains Mono', 'Inter', system-ui, sans-serif;
	margin: 0;
	display: flex;
	height: 100vh;
	overflow: hidden;
}

/* --- 3. 左侧工作空间导航栏 --- */
.sidebar {
	width: 260px;
	background: var(--bg-surface);
	border-right: 1px solid var(--border);
	display: flex; flex-direction: column; z-index: 200;
}
.sidebar-header { padding: 25px 20px 10px; font-size: 14px; font-weight: 600; color: var(--text-main); letter-spacing: 1px; text-transform: uppercase; }
.lang-switcher { padding: 0 20px 15px; border-bottom: 1px solid var(--border); display: flex; gap: 10px; font-size: 11px; }
.lang-btn { cursor: pointer; color: var(--text-dim); transition: 0.2s; }
.lang-btn.active { color: var(--jb-blue); font-weight: bold; text-decoration: underline; text-underline-offset: 4px; }
.ws-item { padding: 12px 25px; cursor: pointer; transition: 0.15s; color: var(--text-main); font-size: 13px; }
.ws-item:hover { background: #32353a; }
.ws-item.active { background: #2e436e; color: #fff; }

/* --- 4. 主面板布局 --- */
.main { flex: 1; overflow-y: auto; padding: 40px; position: relative; transition: margin-right 0.3s ease; }
.dashboard-header { margin-bottom: 30px; display: flex; justify-content: space-between; align-items: flex-end; }
.dashboard-header h1 { margin: 0; font-size: 24px; font-weight: 600; }
.grid { display: flex; flex-direction: column; gap: 30px; }

.add-unit-placeholder {
	display: flex; align-items: center; justify-content: center; height: 60px;
	border: 1px dashed var(--border); border-radius: 6px; cursor: pointer;
	color: var(--text-dim); font-size: 12px; font-weight: bold; transition: 0.2s; background: transparent;
}
.add-unit-placeholder:hover { border-color: var(--jb-blue); color: var(--jb-blue); background: rgba(53, 116, 240, 0.05); }

/* --- 5. 侧边编辑抽屉 (取代弹窗) --- */
.modal-mask {
	position: fixed;
	top: 0; left: 0; width: 100%; height: 100%;
	background: rgba(0, 0, 0, 0.2); /* 侧边栏模式背景遮罩变浅，突出侧边感 */
	z-index: 1000;
}

.modal-box {
	position: fixed;
	top: 0;
	right: 0; /* 固定在右侧 */
	width: 550px; /* 侧边栏固定宽度 */
	height: 100vh; /* 撑满高度 */
	background: var(--bg-surface);
	border-left: 1px solid var(--border);
	box-shadow: -10px 0 30px rgba(0,0,0,0.5);
	display: flex;
	flex-direction: column;
	z-index: 1001;
	/* 进场动画：从右侧滑入 */
	animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
	from { transform: translateX(100%); }
	to { transform: translateX(0); }
}

.modal-header {
	padding: 20px 25px;
	background: #2b2d30;
	border-bottom: 1px solid var(--border);
	display: flex;
	justify-content: space-between;
	align-items: center;
}
.modal-title { font-size: 14px; font-weight: 600; color: var(--jb-blue); text-transform: uppercase; }

.modal-body {
	flex: 1;
	padding: 25px;
	overflow-y: auto;
	background: var(--bg-deep); /* 内容区稍微深一点，增加对比度 */
}

.modal-footer {
	padding: 20px 25px;
	background: var(--bg-surface);
	border-top: 1px solid var(--border);
	display: flex;
	gap: 12px;
}

/* --- 6. 通用表单元素 --- */
.form-group { margin-bottom: 24px; }
.form-group label { display: block; color: var(--text-dim); font-size: 11px; margin-bottom: 8px; font-weight: 600; text-transform: uppercase; }
.form-group input, .form-group select, .form-group textarea {
	width: 100%; background: var(--bg-surface); border: 1px solid var(--border); color: var(--text-main);
	padding: 10px; font-family: 'JetBrains Mono', monospace; box-sizing: border-box; border-radius: 4px; outline: none; transition: 0.2s;
}
.form-group input:focus, .form-group select:focus { border-color: var(--jb-blue); }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.hint { display: block; font-size: 10px; color: var(--text-dim); margin-top: 6px; line-height: 1.4; }

/* --- 7. 按钮体系 --- */
.btn {
	background: #393b40; color: var(--text-main); border: 1px solid var(--border);
	padding: 8px 18px; border-radius: 4px; cursor: pointer; font-family: inherit; font-size: 12px;
}
.btn-primary { background: var(--jb-blue); border-color: var(--jb-blue); color: white; font-weight: 600; }
.btn-primary:hover { background: #467ff2; }

/* --- 8. 滚动条 --- */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #393b40; border-radius: 10px; }
